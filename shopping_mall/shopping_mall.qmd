---
title: "Shopping Malls"
date: "27 Mar 2023"
date-modified: "`r Sys.Date()`"
number-sections: true
format: html
execute: 
  echo: true
  eval: true
  warning: false
editor: visual
---

```{r}
pacman::p_load(sf, dplyr, tidyverse, tmap, readr)
```

Importing shopping mall csv data

```{r}
shopping_mall <- read_csv("shopping_mall_coordinates.csv")
```

Converting into sf dataframe

```{r}
mall_sf <- st_as_sf(shopping_mall,
                    coords = c("LONGITUDE", 
                               "LATITUDE"),
                    crs=4326) %>%
  st_transform(crs = 3414)

st_crs(mall_sf)
```

Writing to RDS

```{r}
write_rds(mall_sf, "mall_sf.rds")
```

```{r}
mall_sf <- read_rds("mall_sf.rds")
```

```{r}

tm_shape(sg) +
  tm_polygons() +
  tmap_options(check.and.fix = TRUE)+
  tm_shape(mall_sf) +
  tm_symbols(col = "lightblue", size = 0.4, shape =21)
  
```

```{r}
duplicated(mall_sf)
```
